---
import Layout from '../layouts/Layout.astro';

// Для статической генерации используем русский язык по умолчанию
const localeTexts = await import('../locales/ru.json');
const title = localeTexts.title;
const texts = localeTexts.pages.projects;
---

<Layout
	title=`${texts.bodyTitle} | ${title}`
	bodyTitle={texts.bodyTitle}
	pubDate={new Date('January 14 2024')}
	description={texts.description}
>

	<div data-localize="description" style="margin-bottom: 2rem; font-style: italic;">{texts.description}</div>

	{texts.content.map((content: any) =>
		<div class="container">
			<div class="title">
				{content.img &&
					<div class="imgbox gallery">
						<a href={content.img}>
							<img src={content.img_mini} data-at-450={content.img_mini} alt="" />
						</a>
					</div>
				}
				<h4>{content.title}</h4>
			</div>
			<div class="body center">
				{content.body}
			</div>
			<div class="langlist center">
				{content.stacks.map((stack: any) => <b class={"icon icon-" + stack.tag} data-tooltip={stack.text}/>)}
			</div>
		</div>

		<hr/>
	)}

	<script>
		import '../utils/client-localize.js';
	</script>
</Layout>
